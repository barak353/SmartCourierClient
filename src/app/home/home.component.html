<!--Agents header-->
<div *ngIf="showTable =='Agents'" class="main-header">
  <img class="float-left" src="assets\img\logo.png">
  <p><a [routerLink]="['/login']">התנתקות</a></p>
  <select class="select" id="monthSelectId" (change)="monthSelect($event.target.value)">
  <option value="" selected="selected">חודש</option>
  <option *ngFor="let c of months" [ngValue]="c">{{c}}</option>
  </select>
  <select class="select" id="yearSelectId" (change)="yearSelect($event.target.value)">
  <option value="" selected="selected">שנה</option>
  <option (click)="showTotalPaid()" *ngFor="let c of years" [ngValue]="c.value">{{c}}</option>
  </select>
    <button type="submit" class="btn btn-primary" [routerLink]="['/agent']">סוכן חדש</button>
  </div>

<!--Tables section-->
<div class="container">
  <!--Agents table-->
   <div *ngIf="showTable =='Agents'">
    <table class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th class="table-column"></th>
          <th class="table-column"></th>
          <th class="table-column">שליחויות</th>
          <th class="table-column">משכורת חודשית</th>
          <th class="table-column">מחוז מועדף</th>
          <th class="table-column">PO</th>
          <th class="table-column">טלפון</th>
          <th class="table-column">אימייל</th>
          <th class="table-column">שם משפחה</th>
          <th class="table-column">שם פרטי</th>
          <th class="table-column">מספר סוכן</th>
          <th class="table-column">#</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; let i = index">
          <td class="table-column">
            <button type="button" class="btn btn-danger" (click)="deleteAgent(user.agent.id)">מחיקה</button>
          </td>
          <td class="table-column">
            <button type="submit" class="btn btn-info" (click)="showEditScreen(user)" >עריכה</button>
          </td>
          <td class="table-column">  <div *ngIf="user.agent.delivery.length > 0"><a  (click)="showDeliveries(user.agent.delivery)">שליחויות</a></div><div  *ngIf="user.agent.delivery.length <= 0"> <a  (click)="showDeliveries(user.agent.delivery)">אין שליחויות</a></div></td>
          <td class="table-column">{{ user.agent.currentTotalPaid }}</td>
          <td class="table-column">{{ user.agent.preferredArea }}</td>
          <td class="table-column">{{ user.agent.po }}</td>
          <td class="table-column">{{ user.agent.phone }}</td>
          <td class="table-column">{{ user.agent.email }}</td>
          <td class="table-column">{{ user.lastName }}</td>
          <td class="table-column">{{ user.firstName }}</td>
          <td class="table-column">{{ user.agent.id }}</td>
          <th class="table-column" scope="row">{{ i + 1 }}</th>
        </tr>
      </tbody>
    </table>
  </div>

<!--###################-Deliveries Section-##########################-->
  <!--Deliveries header-->
  <div *ngIf="showTable =='Deliveries'" class="main-header">
    <img class="float-left" src="assets\img\logo.png">
    <p><a [routerLink]="['/login']">התנתקות</a></p>
    <select class="select" id="monthSelectId" (change)="monthSelect($event.target.value)">
    <option value="" selected="selected">חודש</option>
    <option *ngFor="let c of months" [ngValue]="c">{{c}}</option>
    </select>
    <select class="select" id="yearSelectId" (change)="yearSelect($event.target.value)">
    <option value="" selected="selected">שנה</option>
    <option (click)="showTotalPaid()" *ngFor="let c of years" [ngValue]="c.value">{{c}}</option>
    </select>
      <button type="submit" class="btn btn-primary" [routerLink]="['/agent']">משלוח חדש</button>
  </div>

    <!--Deliveries table-->
   <div *ngIf="showTable =='Deliveries'">
    <table class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th class="table-column"></th>
          <th class="table-column"></th>
          <th class="table-column">מספר סוכן</th>
          <th class="table-column">כתובת</th>
          <th class="table-column">עלות</th>
          <th class="table-column">מצב</th>
          <th class="table-column">טלפון</th>
          <th class="table-column">#</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let delivery of deliveries; let i = index">
          <td class="table-column">
            <button type="button" class="btn btn-danger" (click)="onDelete(i)">מחיקה</button>
          </td>
          <td class="table-column">
            <button type="button" class="btn btn-info" (click)="onEdit(i)">עריכה</button>
          </td>
          <td class="table-column">{{ delivery.id }}</td>
          <td class="table-column">{{ delivery.address }}</td>
          <td class="table-column">{{ delivery.price }}</td>
          <td class="table-column">{{ delivery.state }}</td>
          <td class="table-column">{{ delivery.phone }}</td>
          <th scope="row">{{ i + 1 }}</th>
        </tr>
      </tbody>
    </table>

    <div class="text-right">
      <button type="submit" class="btn btn-primary" (click)="showTable = 'Agents'">< חזור</button>
    </div>
  </div>
